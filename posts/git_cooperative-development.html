<!DOCTYPE html><html lang="zh-CN" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="怎样使用git进行协同开发？" /><meta property="og:locale" content="zh_CN" /><meta name="description" content="一、概述" /><meta property="og:description" content="一、概述" /><link rel="canonical" href="https://blog.algs.tech/posts/git_cooperative-development.html" /><meta property="og:url" content="https://blog.algs.tech/posts/git_cooperative-development.html" /><meta property="og:site_name" content="极客开发者-博客" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-01-31T21:57:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="怎样使用git进行协同开发？" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-01-31T21:57:00+08:00","datePublished":"2023-01-31T21:57:00+08:00","description":"一、概述","headline":"怎样使用git进行协同开发？","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.algs.tech/posts/git_cooperative-development.html"},"url":"https://blog.algs.tech/posts/git_cooperative-development.html"}</script><title>怎样使用git进行协同开发？ | 极客开发者-博客</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="极客开发者-博客"><meta name="application-name" content="极客开发者-博客"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="stylesheet" href="/assets/dist/fonts/main.css"><link rel="stylesheet" href="/assets/dist/bootstrap.min.css"><link rel="stylesheet" href="/assets/dist/fontawesome.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="/assets/lib/tocbot/tocbot.min.css"><link rel="stylesheet" href="/assets/dist/magnific-popup.min.css"> <script src="/assets/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener('change', () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.notify(); } /* flipMode() */ } /* ModeToggle */ const modeToggle = new ModeToggle(); </script><body data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/img/about/avatar.jpeg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title"> <a href="/">极客开发者-博客</a></div><div class="site-subtitle font-italic">在探索未知与梦想的道路上，让我们拥有共同的称呼 -- 开发者</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>首页</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>分类</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>标签</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>归档</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>关于</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/geekdex" aria-label="github" target="_blank" rel="noopener noreferrer"> <i class="fab fa-github"></i> </a> <a href="javascript:location.href = 'mailto:' + ['pan.hy','foxmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> 首页 </a> </span> <span>怎样使用git进行协同开发？</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> 文章</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="搜索..."> </span> <span id="search-cancel" >取消</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>怎样使用git进行协同开发？</h1><div class="post-meta text-muted"> <span> 发表于 <em class="" data-ts="1675173420" data-df="YYYY/MM/DD" data-toggle="tooltip" data-placement="bottom"> 2023/01/31 </em> </span> <span style="float: right;"> <a href="https://lab.aoco.tech/convert?url=https://raw.githubusercontent.com/geekdex/blog/refs/heads/main/_posts/2023-01-31-git_cooperative-development.md" class="view-source" target="_blank" style="color: #2a5caa; text-decoration: none; font-weight: 500;"> 查看Codelabs </a> &nbsp;|&nbsp; <a href="https://github.com/geekdex/blog/blob/main/_posts/2023-01-31-git_cooperative-development.md" class="view-source" target="_blank" style="color: #2a5caa; text-decoration: none; font-weight: 500;"> 查看源码 </a> </span><div class="d-flex justify-content-between"> <span> 作者 <em> <a href="https://blog.algs.tech">blog.algs.tech</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="3754 字"> <em>20 分钟</em>阅读</span></div></div></div><div class="post-content"><h2 id="一概述"><span class="mr-2">一、概述</span><a href="#一概述" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>这篇文章是本系列的第 3 篇。通过前两篇，我们已经掌握了 git 的最常用的命令以及相关操作。在本篇文章，我们将学习企业开发中最常用的协同方式，那就是基于 git 分支进行协同开发。如果你还没有阅读过前两篇文章，建议先阅读。</p><p><a href="https://blog.jkdev.cn/index.php/archives/351/">git的简介与基本操作方法</a></p><p><a href="https://blog.jkdev.cn/index.php/archives/359/">通俗易懂地学习git中最常用的指令</a></p><h2 id="二git-分支"><span class="mr-2">二、git 分支</span><a href="#二git-分支" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="21-分支简介"><span class="mr-2">2.1 分支简介</span><a href="#21-分支简介" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>git 通过保存一系列不同时刻的文件快照，来记录文件在不同时刻的差异。git 的分支，本质上是指向提交对象的可变指针。 git 的默认分支名是 <code class="language-plaintext highlighter-rouge">master</code>。 在多次提交操作之后，你其实已经有一个指向最后那个提交对象的 <code class="language-plaintext highlighter-rouge">master</code> 分支。 <code class="language-plaintext highlighter-rouge">master</code> 分支会在每次提交时自动向前移动。</p><p>git 的 <code class="language-plaintext highlighter-rouge">master</code> 分支并不是一个特殊分支。 跟其它分支完全没有区别。 之所以几乎每一个仓库都有 <code class="language-plaintext highlighter-rouge">master</code> 分支，是因为 <code class="language-plaintext highlighter-rouge">git init</code> 命令默认创建它，并且大多数人都懒得去改动它。</p><p>不同的开发团队的分支管理规范不一样，但基本原理是相同的。下面是一个典型的 git 分支的工作流示例图</p><p><a href="/img/git/03-01.png" class="popup img-link "><img data-src="/img/git/03-01.png" alt="note-02-1.png" class="lazyload" data-proofer-ignore></a></p><p><strong>Master</strong>：这里指 <code class="language-plaintext highlighter-rouge">master</code> 主分支，<code class="language-plaintext highlighter-rouge">master</code> 分支记录的重大版本更新</p><p><strong>Develop</strong>：这里指 <code class="language-plaintext highlighter-rouge">develop</code> 开发分支，从 <code class="language-plaintext highlighter-rouge">master</code> 分支创建，变动比较大，通常待上线的功能合并到这个分支</p><p><strong>Feature</strong>：这里指 <code class="language-plaintext highlighter-rouge">feature</code> 功能分支，从 <code class="language-plaintext highlighter-rouge">develop</code> 分支创建，在这类分支上去开发新的功能。开发功能的时候，这个功能属于哪个目标发行版本还不知道。功能如果一直在开发，对应的这个功能分支就可以一直存在。待上线的时候，合并到 <code class="language-plaintext highlighter-rouge">develop</code> 分支上，进行功能测试。如果不想要开发的这个功能了，可以直接扔掉它。</p><h3 id="22-分支的基本操作"><span class="mr-2">2.2 分支的基本操作</span><a href="#22-分支的基本操作" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>（1）查看分支</ul><p>我们先通过以下命令查看分支信息</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git branch
</pre></table></code></div></div><p>看到如下信息 <a href="/img/git/03-02.png" class="popup img-link "><img data-src="/img/git/03-02.png" alt="note-02-2.png" class="lazyload" data-proofer-ignore></a></p><ul><li>（2）创建与切换分支</ul><p>使用以下指令从当前分支创建新分支，并切换到新分支</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="c"># 创建develop分支</span>
git branch develop
<span class="c"># 切换到 develop 分支</span>
git checkout develop
</pre></table></code></div></div><p>或者我们使用以下命令创建之后直接切换到新分支</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c"># checkout 指令使用 -b参数，创建之后即切换</span>
git checkout <span class="nt">-b</span> develop
</pre></table></code></div></div><p>此时我们再使用 <code class="language-plaintext highlighter-rouge">git branch</code> 查看分支信息，如下图 <a href="/img/git/03-03.png" class="popup img-link "><img data-src="/img/git/03-03.png" alt="note-02-2-1.png" class="lazyload" data-proofer-ignore></a></p><p>可以看到现在一共有两个分支，而有“*”标识的是我们现在所在的分支。</p><ul><li>（3）删除分支</ul><p>经过上面的操作，我们现在已经处在 <code class="language-plaintext highlighter-rouge">develop</code> 分支上，下面我们创建一个新分支，并删除掉新创建的分支</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c"># 创建并切换到 feature/211031</span>
git checkout <span class="nt">-b</span> feature/211031
</pre></table></code></div></div><p>通过上面的指令我们创建了一个功能分支，假如这个功能不想要了，我们就可以删除掉，使用以下指令</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="c"># 先切换回develop分支</span>
git checkout develop
<span class="c"># 删除 feature/211031 功能分支</span>
git branch <span class="nt">-d</span> feature/211031
</pre></table></code></div></div><p>删除远端分支，为了演示删除远端分支，我们先将本地的<code class="language-plaintext highlighter-rouge">develop</code>分支提交到远端</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c"># 将本地develop 分支提交到远端</span>
git push <span class="nt">-u</span> origin develop
</pre></table></code></div></div><p>如果远端没有 develop 分支将会自动创建。这里还有个参数是 <code class="language-plaintext highlighter-rouge">-u</code>，是<code class="language-plaintext highlighter-rouge">--set-upstream</code>的简写，该参数用于推送代码是进行分支关联，该参数与 <code class="language-plaintext highlighter-rouge">push</code>指令联用。另一个类似功能的参数<code class="language-plaintext highlighter-rouge">--set-upstream-to</code>用于直接设置关联，该参数与<code class="language-plaintext highlighter-rouge">branch</code>指令联用。如下指令</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c"># 将远端 master 关联到 本地 develop分支</span>
git branch <span class="nt">--set-upstream-to</span> origin/master develop
</pre></table></code></div></div><p>以上指令将远端 <code class="language-plaintext highlighter-rouge">master</code> 分支关联到本地的 <code class="language-plaintext highlighter-rouge">develop</code> 分支。换一种说法是，我们将本地 <code class="language-plaintext highlighter-rouge">develop</code> 分支追踪远端的 <code class="language-plaintext highlighter-rouge">master</code> 分支。以上的设置只是个示例，在实际中，根据分支名称，本地分支应当与远端分支一一对应。</p><p>上面讲<code class="language-plaintext highlighter-rouge">develop</code>分支推送到远端仓库之后，我们可执行远端的分支删除操作，如下指令</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c"># 删除远端的 develop 分支</span>
git push <span class="nt">-u</span> origin <span class="nt">-d</span> develop
</pre></table></code></div></div><blockquote><p>origin 关键词指的是一个指针，origin 指向的是本地的代码库托管在远端的仓库，可以说 origin 对应的是远端仓库。</p></blockquote><h3 id="23-同步远端分支"><span class="mr-2">2.3 同步远端分支</span><a href="#23-同步远端分支" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>（1）相关指令</ul><p>使用下面的命令合并远端代码</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="c"># 从远程获取最新版本信息到本地</span>
git fetch
<span class="c"># 将远端版本合并到当前分支</span>
git merge FETCH_HEAD
</pre></table></code></div></div><p>这里出现一个关键词<code class="language-plaintext highlighter-rouge">FETCH_HEAD</code>，该关键词同样是一个指针，用于跟踪从远程存储库中获取的内容。</p><p>以上的两个指令可以用一个 <code class="language-plaintext highlighter-rouge">git pull</code>来代替， 其实就是 <code class="language-plaintext highlighter-rouge">git fetch</code> 和 <code class="language-plaintext highlighter-rouge">git merge FETCH_HEAD</code> 的合并。命令格式如下</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git pull &lt;远程主机名&gt; &lt;远程分支名&gt;:&lt;本地分支名&gt;
</pre></table></code></div></div><ul><li>（2）实例</ul><p>让当前分支自动与其追踪的分支进行合并</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git pull
</pre></table></code></div></div><p>让远端的 <code class="language-plaintext highlighter-rouge">master</code> 分支，与本地的 <code class="language-plaintext highlighter-rouge">develop</code> 分支合并，如下指令</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git pull origin master:develop
</pre></table></code></div></div><h3 id="24-分支的合并"><span class="mr-2">2.4 分支的合并</span><a href="#24-分支的合并" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>通常情况下，需要单独建一个分支来开发功能，开发完成之后需要合并到主分支。我们这里说的主分支是功能分支的来源分支，假如 <code class="language-plaintext highlighter-rouge">feature</code> 分支是从 <code class="language-plaintext highlighter-rouge">develop</code> 分支创建的，我们就把这里的 <code class="language-plaintext highlighter-rouge">develop</code> 分支叫做主分支。通过下图可以看到合并的过程</p><p><a href="/img/git/03-04.png" class="popup img-link "><img data-src="/img/git/03-04.png" alt="note-02-3.png" class="lazyload" data-proofer-ignore></a></p><p>每个节点代表一个提交，但功能分支在开发的时候，主分支也可能进行了好几次提交。最后，功能分支要合并到主分支上。上图的合并过程可以通过以下命令来实现</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="c"># 切换到develop分支</span>
git checkout develop
<span class="c"># 将feature分支合并到develop分支</span>
git merge feature
</pre></table></code></div></div><p>但很多时候，我们需要另外的效果，如下图 <a href="/img/git/03-05.png" class="popup img-link "><img data-src="/img/git/03-05.png" alt="note-02-4.png" class="lazyload" data-proofer-ignore></a></p><p>将功能分支的提交记录追加在主分支上，让git保持一条线的提交记录，我们可以使用以下命令</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c"># 使用rebase的方式将feature分支合并到develop分支</span>
git rebase feature
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">rebase</code> 的方式不是直接合并，而是将 <code class="language-plaintext highlighter-rouge">feature</code> 分支变化的提交记录直接追加到主分支之上。使得两个分支的代码保持提交的记录是一致的。</p><p>实际上不仅仅本地分支的合并可以使用<code class="language-plaintext highlighter-rouge">rebase</code>的方式。将远端代码合并到本地的分支，我们也可以使用<code class="language-plaintext highlighter-rouge">--rebase</code>参数将本地分支的提交记录追加到远端的分支上，如下命令</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git pull <span class="nt">--rebase</span>
</pre></table></code></div></div><h3 id="25-代码冲突解决办法"><span class="mr-2">2.5 代码冲突解决办法</span><a href="#25-代码冲突解决办法" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>因为 git 主要是用来做协同开发的，所以一个项目中的一个文件，可能同时有多个人编辑，那么就可能产生文件的冲突。冲突主要来自以下方面，多人同时变更相同文件的同一个地方：一定会产生冲突，多人同时编辑文件的不同地方，可能会产生冲突。</p><p>如果产生的冲突 git 能处理的 git 将会自动解决，但是如果 git 不能解决的冲突则需要我们手动解决。下面我们演示一下文件产生冲突和解决的过程</p><ul><li>初始化git仓库</ul><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="c"># 创建一个 test2 目录</span>
<span class="nb">mkdir </span>test2
<span class="c"># 进入 test2 目录</span>
<span class="nb">cd </span>test2
<span class="c"># 创建一个源代码文件 main.cpp</span>
<span class="nb">touch </span>main.cpp
<span class="c"># 初始化git仓库</span>
git init
<span class="c"># 将文件添加git缓存区</span>
git add <span class="nb">.</span>
<span class="c"># 将git提交到版本库</span>
git commit <span class="nt">-m</span> <span class="s2">"first commit"</span>
</pre></table></code></div></div><ul><li>（1）在新分支写入代码</ul><p>这时候，我们已经在 master 分支已经有了一个 git 的版本库。现在需要从 <code class="language-plaintext highlighter-rouge">master</code> 分支创建新分支，如下命令</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git checkout <span class="nt">-b</span> develop
</pre></table></code></div></div><p>现在我们在<code class="language-plaintext highlighter-rouge">main.cpp</code>中添加以下代码</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="cp">#include</span><span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span></pre></table></code></div></div><p>然后将代码进行提交，如下指令</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git commit <span class="nt">-a</span>
</pre></table></code></div></div><p>你可能会疑问，这次提交怎么跟之前的命令不一样呢？实际上，以上命令就等价于下面的指令</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>git add <span class="nb">.</span>
git commit
</pre></table></code></div></div><p>但是没有<code class="language-plaintext highlighter-rouge">-m</code>参数，所以 git 会自动打开其绑定的终端编辑器，让我们手动输信息。输好提交备注信息之后，我们退出编辑器即可。</p><ul><li>（2）在主分支上写入代码</ul><p>接着我们切换到 <code class="language-plaintext highlighter-rouge">master</code> 分支，如下指令</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git checkout master
</pre></table></code></div></div><p>现在我们在 master 分支中对<code class="language-plaintext highlighter-rouge">main.cpp</code>文件添加另外一行代码，如下内容</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="cp">#include</span><span class="cpf">&lt;stdlib.h&gt;</span><span class="cp">
</span></pre></table></code></div></div><p>再使用以下命令进行提交</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git commit <span class="nt">-a</span>
</pre></table></code></div></div><ul><li>（3）产生冲突</ul><p>此时，<code class="language-plaintext highlighter-rouge">master</code> 分支到了第 2 个版本，<code class="language-plaintext highlighter-rouge">develop</code> 也在第 2 个版本，并且他们同一行文件代码不一样，代码合并后必定会产生冲突。接下来我们将 <code class="language-plaintext highlighter-rouge">develop</code> 分支合并到 <code class="language-plaintext highlighter-rouge">master</code>分支，如下命令</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c"># 在master分支上将develop分支合并进来</span>
git merge develop
</pre></table></code></div></div><p>合并结果如下图所示</p><p><a href="/img/git/03-06.png" class="popup img-link "><img data-src="/img/git/03-06.png" alt="note-02-5.png" class="lazyload" data-proofer-ignore></a></p><p>可以看到提示信息的关键词<code class="language-plaintext highlighter-rouge">CONFLICT</code>，此时代码已经产生了 git 无法自动解决的冲突，合并之后的代码如下所示</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="o">&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span> <span class="n">HEAD</span>
<span class="cp">#include</span><span class="cpf">&lt;stdlib.h&gt;</span><span class="cp">
</span><span class="o">=======</span>
<span class="cp">#include</span><span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="o">&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span> <span class="n">develop</span>
</pre></table></code></div></div><p>现在我们打开<code class="language-plaintext highlighter-rouge">main.cpp</code>文件，可以看到合并的代码中被分成了两栏。上面部分的关键词是<code class="language-plaintext highlighter-rouge">HEAD</code>，我们在前面说过 <code class="language-plaintext highlighter-rouge">HEAD</code>指针指向的是当前分支，即 master，而下面的部分是 develop 分支的代码。</p><ul><li>（4）解决冲突</ul><p>现在就需要我们手动解决冲突，假如我们两行代码都想要，那么删除掉 git 产生的临时行，同时保留两个分支的代码即可，最终修改如下：</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="cp">#include</span><span class="cpf">&lt;stdlib.h&gt;</span><span class="cp">
#include</span><span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span></pre></table></code></div></div><p>最后，我们再将修改之后的代码再次提交到版本库即可，如下指令</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git commit <span class="nt">-a</span> <span class="nt">-m</span> <span class="s2">"解决冲突"</span>
</pre></table></code></div></div><h2 id="三标签"><span class="mr-2">三、标签</span><a href="#三标签" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>git 可以对某次版本提交进行打标签，以表示一个重要更新或者是一个里程碑。一般情况下，我们在代码即将发布的时候打一个标签，以表示一个稳定的版本。</p><h3 id="31-查看标签"><span class="mr-2">3.1 查看标签</span><a href="#31-查看标签" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>使用以下指令查看已经存在的标签</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git tag
</pre></table></code></div></div><p>这个指令会根据标签的字母顺序列出，如果只想查看某个关键字的分支，可以使用以下指令</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c"># 查看 带有 "v1." 关键字的标签 星号（"*"）代表通配符号</span>
git tag <span class="nt">-l</span> <span class="s2">"v1.*"</span>
</pre></table></code></div></div><h3 id="32-打标签"><span class="mr-2">3.2 打标签</span><a href="#32-打标签" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>git 支持两种标签：轻量标签（lightweight）与附注标签（annotated）。轻量标签很像一个不会改变的分支，它只是某个特定提交的引用。而附注标签是存储在 git 数据库中的一个完整对象。</p><p>使用当前分支最新的提交创建标签轻量标签</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git tag v1.0 <span class="nt">-m</span> <span class="s2">"version 1.0"</span>
</pre></table></code></div></div><p>使用当前分支最新的提交创建附件标签</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git tag <span class="nt">-a</span> v1.0 <span class="nt">-m</span> <span class="s2">"version 2.0"</span>
</pre></table></code></div></div><p>我们也可以对过去的提交进行打标签，使用以下指令查看过去的提交日志</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git log <span class="nt">--pretty</span><span class="o">=</span>oneline
</pre></table></code></div></div><p>可以看到如下内容</p><div class="language-text highlighter-rouge"><div class="code-header"> <span data-label-text="Text"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>pan@pandeMacBook-Pro test2 % git log --pretty=oneline
667a8a76e994f9abe0624d5b14093af92de16ac2 (HEAD -&gt; master, tag: v2.0, tag: v1.0, origin/master, develop) Merge branch 'develop'
db8f7cf7cadcfbf357a93b4a1cab3ee25a86db85 main commit 2
f9715e2aae67cf66b1d1348e872cb313f25ed514 develop commit 1
ba8703bd5151796106af7fe55109c9d80ea8b27f first commit
</pre></table></code></div></div><p>假如我们需要对第一次版本提交打标签，可使用以下命令</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c"># 使用提交id指定对应的提交</span>
git tag <span class="nt">-a</span> v3.0 ba8703bd5151796106af7fe55109c9d80ea8b27f <span class="nt">-m</span> <span class="s2">"tag v3.0"</span>
</pre></table></code></div></div><p>或者直接用提交 id 的缩写，如下指令</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git tag <span class="nt">-a</span> v3.0 ba8703b <span class="nt">-m</span> <span class="s2">"tag v3.1"</span>
</pre></table></code></div></div><h3 id="33-将标签提交到服务器"><span class="mr-2">3.3 将标签提交到服务器</span><a href="#33-将标签提交到服务器" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>我们在使用<code class="language-plaintext highlighter-rouge">push</code>指令的时候，并不会直接将标签远端仓库，所以我们需要使用如下指令提交对应的标签</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c"># 将 名为 v2.0 的标签提交到远端仓库</span>
git push origin v2.0
</pre></table></code></div></div><p>或者使用以下指令将所有的标签提交到远端仓库</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git push origin <span class="nt">--tags</span>
</pre></table></code></div></div><h3 id="34-删除标签"><span class="mr-2">3.4 删除标签</span><a href="#34-删除标签" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>使用以下命令删除本地标签</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git tag <span class="nt">-d</span> v1.0
</pre></table></code></div></div><p>本地标签删除后，如果远端存在当前对应标签，使用<code class="language-plaintext highlighter-rouge">git pull</code>同时将远端标签同步到本地。我们可以使用下面的命令删除远端标签</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c"># 删除远端仓库的 v1.0 标签</span>
git push origin :refs/tags/v1.0
</pre></table></code></div></div><p>上面这种操作的含义是，将冒号前面的空值推送到远程标签名，从而高效地删除它。如果使用下面的指令删除远端标签，更加直观</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c"># 删除远端 v1.0 标签，-d 是 --delete 的缩写，两者的功能是等价的</span>
git push origin <span class="nt">--delete</span> v1.0
</pre></table></code></div></div><p>这时候，你可能会疑问：删除分支和删除标签的命令是一样的？确实是，因为这种方式是通过引用名称进行删除。如果存在同名分支时，使用上述的第二种方法删除标签会删除失败。</p><p>同时我们也说明一下删除分支的原始指令，如下</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c"># 删除 develop 分支</span>
git push origin :refs/heads/develop
</pre></table></code></div></div><p>从上面的指令我们可以看出，分支的引用属于 <code class="language-plaintext highlighter-rouge">refs/heads</code> 之下，而标签的引用属于 <code class="language-plaintext highlighter-rouge">refs/tags</code> 之下</p><h2 id="四总结"><span class="mr-2">四、总结</span><a href="#四总结" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>通过这篇文章，我们把常见的 git 协同开发操作都演示了一遍。我们主要是以实践的方式进行了代码的合并、代码的提交、冲突的解决、标签的使用等。如果掌握这篇文章，几乎就能满足日常的开发git协作需求了。</p><p>实际上<code class="language-plaintext highlighter-rouge">git</code>的功能也不止这些，限于篇幅，git还有很多不常用的参数和功能这篇文章没有介绍。如果你有兴趣，可以通过阅读官方文档的方式了解更多内容！</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/git/'>git</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 本文由作者按照 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 进行授权</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">分享</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%E6%80%8E%E6%A0%B7%E4%BD%BF%E7%94%A8git%E8%BF%9B%E8%A1%8C%E5%8D%8F%E5%90%8C%E5%BC%80%E5%8F%91%EF%BC%9F%20-%20%E6%9E%81%E5%AE%A2%E5%BC%80%E5%8F%91%E8%80%85-%E5%8D%9A%E5%AE%A2&url=https%3A%2F%2Fblog.algs.tech%2Fposts%2Fgit_cooperative-development.html" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=%E6%80%8E%E6%A0%B7%E4%BD%BF%E7%94%A8git%E8%BF%9B%E8%A1%8C%E5%8D%8F%E5%90%8C%E5%BC%80%E5%8F%91%EF%BC%9F%20-%20%E6%9E%81%E5%AE%A2%E5%BC%80%E5%8F%91%E8%80%85-%E5%8D%9A%E5%AE%A2&u=https%3A%2F%2Fblog.algs.tech%2Fposts%2Fgit_cooperative-development.html" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fblog.algs.tech%2Fposts%2Fgit_cooperative-development.html&text=%E6%80%8E%E6%A0%B7%E4%BD%BF%E7%94%A8git%E8%BF%9B%E8%A1%8C%E5%8D%8F%E5%90%8C%E5%BC%80%E5%8F%91%EF%BC%9F%20-%20%E6%9E%81%E5%AE%A2%E5%BC%80%E5%8F%91%E8%80%85-%E5%8D%9A%E5%AE%A2" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://service.weibo.com/share/share.php?title=%E6%80%8E%E6%A0%B7%E4%BD%BF%E7%94%A8git%E8%BF%9B%E8%A1%8C%E5%8D%8F%E5%90%8C%E5%BC%80%E5%8F%91%EF%BC%9F%20-%20%E6%9E%81%E5%AE%A2%E5%BC%80%E5%8F%91%E8%80%85-%E5%8D%9A%E5%AE%A2&url=https%3A%2F%2Fblog.algs.tech%2Fposts%2Fgit_cooperative-development.html" data-toggle="tooltip" data-placement="top" title="Weibo" target="_blank" rel="noopener" aria-label="Weibo"> <i class="fa-fw fab fa-weibo"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="分享链接" data-title-succeed="链接已复制！"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-tags"><div class="panel-heading">热门标签</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/k8s/">k8s</a> <a class="post-tag" href="/tags/adb/">adb</a> <a class="post-tag" href="/tags/docker/">docker</a> <a class="post-tag" href="/tags/pingora/">Pingora</a> <a class="post-tag" href="/tags/posix/">POSIX</a> <a class="post-tag" href="/tags/%E5%8F%8C%E7%B3%BB%E7%BB%9F/">双系统</a> <a class="post-tag" href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/">虚拟机</a> <a class="post-tag" href="/tags/android%E6%9D%83%E9%99%90/">android权限</a> <a class="post-tag" href="/tags/aosp/">aosp</a> <a class="post-tag" href="/tags/archlinux/">archlinux</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">文章内容</div><nav id="toc"></nav></div><script src="/assets/lib/tocbot/tocbot.min.js"></script></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ml-1" data-toc-skip>相关文章</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/git_installation-and-basic-operation.html"><div class="card-body"> <em class="small" data-ts="1675173240" data-df="YYYY/MM/DD" > 2023/01/31 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>使用git托管代码的基本操作方法</h3><div class="text-muted small"><p> 我计划写2到3篇的git基础文章，这次介绍 git 的基本使用方法。后面介绍企业中如何使用 git 进行协同开发。 一、Git 简介 1.1 架构 关键词：git 或 Git Git 是一个分布式的代码托管工具，我们可以基于同一套代码，在不同电脑上进行项目开发，最终都可以可以把代码同步到 Git 服务器上。Git是一个分布式的代码托管工具，如下图： 1.2 工作流 下...</p></div></div></a></div><div class="card"> <a href="/posts/git_basic-command.html"><div class="card-body"> <em class="small" data-ts="1675173300" data-df="YYYY/MM/DD" > 2023/01/31 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>通俗易懂地学习git中最常用的命令</h3><div class="text-muted small"><p> 一、概述 在上节，带大家一起简单了解了 git ，并使用 git 成功将代码托管到 github。在本节，我们进一步学习 git ，我们根据实际开发中的需求，来逐个认识 git 中最常见与最基本的指令。 本系列大概会有 3 篇文章，这是第 2 篇，如果你还没看上一篇，推荐先看上一篇： 记录 git 几条命令，将自己的代码托管到 Github 上 实际上 git 的每个指令都有...</p></div></div></a></div><div class="card"> <a href="/posts/git_rollback.html"><div class="card-body"> <em class="small" data-ts="1675173480" data-df="YYYY/MM/DD" > 2023/01/31 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>git版本库的代码回退技巧</h3><div class="text-muted small"><p> 一、概述 本文是该系列文章的第四篇，你可以通过以下链接阅读之前的内容 git的简介与基本操作方法 通俗易懂地学习git中最常用的指令 怎样使用git进行协同开发？ git能帮助我们高效地进行代码托管，在使用git进行代码托管的时候，有时候我们需要回退版本。本文我们将一起来研究代码回退的方法。在git中，HEAD指针指向我们当前分支的最后一次提交。比如我们提交过三个版本，那么此时HE...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/git_basic-command.html" class="btn btn-outline-primary" prompt="上一篇"><p>通俗易懂地学习git中最常用的命令</p></a> <a href="/posts/git_rollback.html" class="btn btn-outline-primary" prompt="下一篇"><p>git版本库的代码回退技巧</p></a></div><script type="text/javascript"> $(function () { const origin = "https://giscus.app"; const iframe = "iframe.giscus-frame"; const lightTheme = "light"; const darkTheme = "dark_dimmed"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } let giscusAttributes = { "src": "https://giscus.app/client.js", "data-repo": "geekdex/blog", "data-repo-id": "R_kgDOIyxhcQ", "data-category": "General", "data-category-id": "DIC_kwDOIyxhcc4CUhya", "data-mapping": "pathname", "data-reactions-enabled": "anonymous", "data-emit-metadata": "0", "data-theme": initTheme, "data-input-position": "0", "data-lang": "zh-CN", "crossorigin": "anonymous", "async": "" }; let giscusScript = document.createElement("script"); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value)); document.getElementById("tail-wrapper").appendChild(giscusScript); addEventListener("message", (event) => { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; const theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); }); </script></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">热门标签</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/k8s/">k8s</a> <a class="post-tag" href="/tags/adb/">adb</a> <a class="post-tag" href="/tags/docker/">docker</a> <a class="post-tag" href="/tags/pingora/">Pingora</a> <a class="post-tag" href="/tags/posix/">POSIX</a> <a class="post-tag" href="/tags/%E5%8F%8C%E7%B3%BB%E7%BB%9F/">双系统</a> <a class="post-tag" href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/">虚拟机</a> <a class="post-tag" href="/tags/android%E6%9D%83%E9%99%90/">android权限</a> <a class="post-tag" href="/tags/aosp/">aosp</a> <a class="post-tag" href="/tags/archlinux/">archlinux</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><footer><div class="container pl-lg-4 pr-lg-4"><div class="d-flex justify-content-between align-items-center text-muted ml-md-3 mr-md-3"><div class="footer-left"><p class="mb-0"> © 2026 <a href="https://blog.algs.tech">blog.algs.tech</a>. <span data-toggle="tooltip" data-placement="top" title="除非另有说明，本网站上的博客文章均由作者按照知识共享署名 4.0 国际 (CC BY 4.0) 许可协议进行授权。">保留部分权利。</span></p></div><div class="footer-right"><p class="mb-0">本站由 <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> 生成，采用 <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> 主题。</p></div></div></div></footer><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">发现新版本的内容。</p><button type="button" class="btn btn-primary" aria-label="Update"> 更新 </button></div></div><script src="/assets/dist/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">搜索结果为空</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="/assets/dist/jquery.magnific-popup.min.js"></script> <script src="/assets/dist/lazysizes.min.js"></script> <script src="/assets/dist/clipboard.min.js"></script> <script src="/assets/dist/dayjs.min.js"></script> <script src="/assets/dist/locale/zh.min.js"></script> <script src="/assets/dist/relativeTime.min.js"></script> <script src="/assets/dist/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="/assets/dist/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
